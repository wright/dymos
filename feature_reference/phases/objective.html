

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Objective &#8212; dymos 0.14.2 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Simulating ODEs with Scipy" href="simulate/simulate.html" />
    <link rel="prev" title="Constraints" href="constraints.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simulate/simulate.html" title="Simulating ODEs with Scipy"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="constraints.html" title="Constraints"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">dymos 0.14.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../feature_reference.html" >Dymos Feature Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="phases.html" accesskey="U">Phases of a Trajectory</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Objective</a><ul>
<li><a class="reference internal" href="#example-minimizing-final-time">Example: Minimizing Final Time</a></li>
<li><a class="reference internal" href="#example-maximizing-final-mass">Example: Maximizing Final Mass</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="constraints.html"
                        title="previous chapter">Constraints</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="simulate/simulate.html"
                        title="next chapter">Simulating ODEs with Scipy</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/feature_reference/phases/objective.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="objective">
<h1>Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h1>
<p>Optimal control problems in Dymos are posed within the context of <em>phases</em>.</p>
<p>When using an optimizer-based phase, like <em>Gauss-Lobatto</em> or <em>Radau-Pseudospectral</em>,
the user is <strong>required</strong> to provide an objective, even for a simple initial value problem.</p>
<p>To support objectives, phases use an overridden version of OpenMDAO’s <cite>add_objective</cite> method.
This method handles a few complexities that would be involved in the standard OpenMDAO
<cite>add_objective</cite> method.</p>
<p>First, since the path to a variable within the phase might depend on the transcription used, the
<cite>add_objective</cite> method uses the same name-detection capability as other phase methods like
<cite>add_boundary_constraint</cite> and <cite>add_path_constraint</cite>.  The name provided should be one of</p>
<ul class="simple">
<li><p><cite>time</cite></p></li>
<li><p>the name of a state varaible</p></li>
<li><p>the name of a control variable</p></li>
<li><p>the name of a control rate or rate2 (second derivative)</p></li>
<li><p>the path of an output in the ODE relative to the top level of the ODE</p></li>
</ul>
<p>Dymos will find the full path of the given variable and add it to the problem as an objective.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many optimizers do not support multiple objective functions.  When constructing a composite
objective you may need to form the objective as an output of a component in your ODE system.</p>
</div>
<p>Second, unlike typical OpenMDAO problems where the <cite>index</cite> can be used to effectively specify
the first or last value of a variable, optimal control problems have two competing notions of index:
the first is the location in time where the objective is to be measured, and the second is the index of a
vector valued variable that is to be considered the objective value, which must be scalar.</p>
<p>To remove this ambiguity, the <cite>add_objective</cite> method on phase has an argument <cite>loc</cite>, which may
have value <cite>initial</cite> or <cite>final</cite>, specifying whether the objectve is to be quantified at the
start or end of the phase.  The <cite>index</cite> option gives the index into a non-scalar variable value
to be used as the objective, which must be scalar.</p>
<div class="section" id="example-minimizing-final-time">
<h2>Example: Minimizing Final Time<a class="headerlink" href="#example-minimizing-final-time" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">phase</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;final&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="example-maximizing-final-mass">
<h2>Example: Maximizing Final Mass<a class="headerlink" href="#example-maximizing-final-mass" title="Permalink to this headline">¶</a></h2>
<p>This example assumes that the phase has a state variable named <em>mass</em>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">phase</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s1">&#39;mass&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="n">scaler</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="simulate/simulate.html" title="Simulating ODEs with Scipy"
             >next</a> |</li>
        <li class="right" >
          <a href="constraints.html" title="Constraints"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">dymos 0.14.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../feature_reference.html" >Dymos Feature Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="phases.html" >Phases of a Trajectory</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, National Aeronautics and Space Administration.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>